<!DOCTYPE html>
<html lang="en">
  <head>
    <title></title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="styles.css" rel="stylesheet" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <py-env>
      - paths:
        - /app.py
        - /team.py
        - /cuber.py
        - /cubers.json
    </py-env>
  </head>
  <body>
    <py-script>
      from app import teams 

      def getTeams():
          i = 1
          for team in teams:
              menuToggle =  document.createElement('input')
              menuToggle.id = f"menuToggle{i}"
              menuToggle.type = "checkbox"
              document.body.append(menuToggle)

              div = document.createElement('div')
              div.classList.add("infobox", "md-card")
              document.body.append(div)

              innerDiv = document.createElement("div")
              innerDiv.id = f"innerDiv{i}"
              innerDiv.classList.add("md-card-content")
              div.append(innerDiv)

              label = document.createElement('label')
              label.classList.add("toggleButton",  "md-button", "md-button--raised")
              label.innerHTML = f"Team {i}"
              label.htmlFor = f'menuToggle{i}'
              document.body.append(label)

              getTeammate(team, i)
              i+=1

      def getTeammate(team, i):
          for teammate in team.teammates:
              div = document.querySelector(f"#innerDiv{i}")
              newDiv = document.createElement('li')
              newDiv.innerHTML = teammate.name + " " + teammate.event
              div.append(newDiv)   

      getTeams()
    </py-script>
  </body>
</html>
